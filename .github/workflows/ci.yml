name: CI # Só para questão de organização, pode ser qualquer nome

# Quando acontecer X coisa, a pipe executa
on: # Dita qual o evento que vai triggar a pipeline (a partir dele que a pipe funciona)
  push:
    branches:
      - main

jobs:
  build:
    name: "Build and Push" # nome do job, pode ser qualquer nome
    runs-on: ubuntu-latest # ambiente de execução (máquina virtual) onde o job será executado - Runner do GitHub Actions

    steps:
      - name: "Checkout code"
        uses: actions/checkout@v4
      
      - name: "Setup node"
        uses: actions/setup-node@v4
        with:
          node-version: 24
          cache: "npm"
      # Comandos após a configuração do node
      - run: npm ci
      - run: npm run test